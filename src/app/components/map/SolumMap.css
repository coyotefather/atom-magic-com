/* Leaflet overrides for Atom Magic classical theme */

.solum-map {
	/* Warm parchment ocean with fine cartographic hatching for water texture */
	/* background-color: #EDE5D3; */
	background-image:
		repeating-linear-gradient(
			-45deg,
			transparent,
			transparent 3px,
			rgba(107, 91, 74, 0.07) 3px,
			rgba(107, 91, 74, 0.07) 3.5px
		),
		repeating-linear-gradient(
			-45deg,
			transparent,
			transparent 7px,
			rgba(107, 91, 74, 0.05) 7px,
			rgba(107, 91, 74, 0.05) 7.5px
		);
	border: 2px solid var(--color-stone);
}

/* Zoom controls */
.solum-map .leaflet-control-zoom {
	border: 2px solid var(--color-stone) !important;
	border-radius: 0 !important;
}

.solum-map .leaflet-control-zoom a {
	border-radius: 0 !important;
	background-color: white !important;
	color: var(--color-stone-dark) !important;
	border-bottom-color: var(--color-stone) !important;
	font-family: 'Marcellus', serif !important;
	width: 32px !important;
	height: 32px !important;
	line-height: 32px !important;
	font-size: 18px !important;
}

.solum-map .leaflet-control-zoom a:hover {
	background-color: var(--color-parchment) !important;
	color: var(--color-laurel) !important;
}

.solum-map .leaflet-control-zoom a.leaflet-disabled {
	opacity: 0.4;
}

/* Attribution */
.solum-map .leaflet-control-attribution {
	background-color: rgba(245, 240, 225, 0.85) !important;
	border-radius: 0 !important;
	font-size: 10px !important;
	color: var(--color-stone-dark) !important;
}

.solum-map .leaflet-control-attribution a {
	color: var(--color-laurel) !important;
}

/* Region tooltips */
.solum-map .leaflet-tooltip {
	border-radius: 0 !important;
	border: 2px solid var(--color-stone) !important;
	background-color: white !important;
	padding: 8px 12px !important;
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15) !important;
}

.solum-map .leaflet-tooltip::before {
	border-top-color: var(--color-stone) !important;
}

.solum-tooltip-content {
	font-family: 'Noto Serif', serif;
}

.solum-tooltip-content h3 {
	font-family: 'Marcellus', serif;
	font-size: 14px;
	font-weight: 600;
	color: black;
	margin: 0 0 2px 0;
}

.solum-tooltip-content p {
	font-size: 12px;
	color: var(--color-stone-dark);
	margin: 0;
	max-width: 200px;
}

/* Sepia filter on map layers (not zoom controls or tooltips) */
.solum-map .leaflet-map-pane {
	filter: sepia(1);
}

/* Remove browser focus outline on region paths; use themed glow instead */
.solum-map .leaflet-interactive:focus {
	outline: none;
}

.solum-map .leaflet-interactive:focus-visible {
	outline: none;
	filter: drop-shadow(0 0 6px var(--color-brightgold)) drop-shadow(0 0 2px var(--color-gold));
}

/* Remove default Leaflet popup shadows */
.solum-map .leaflet-popup-content-wrapper {
	border-radius: 0 !important;
	border: 2px solid var(--color-stone) !important;
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15) !important;
}

.solum-map .leaflet-popup-tip {
	border-top-color: var(--color-stone) !important;
}

/* ── Capital city markers ── */

.solum-capital-marker {
	display: flex;
	align-items: center;
	gap: 5px;
	pointer-events: none;
	background: none !important;
	border: none !important;
	overflow: visible !important;
}

.solum-capital-dot {
	display: block;
	width: 8px;
	height: 8px;
	border-radius: 50%;
	background-color: #231f20;
	border: 1.5px solid var(--color-parchment);
	box-shadow: 0 0 2px rgba(0, 0, 0, 0.3);
	flex-shrink: 0;
}

.solum-capital-label {
	font-family: 'Marcellus', serif;
	font-size: 11px;
	color: #231f20;
	white-space: nowrap;
	background-color: rgba(245, 240, 225, 0.88);
	border: 1px solid var(--color-stone);
	border-top-width: 1.5px;
	border-bottom-width: 1.5px;
	padding: 1px 6px;
	box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

/* ── Region name labels ── */

.solum-region-label {
	pointer-events: none !important;
	background: none !important;
	border: none !important;
	overflow: visible !important;
}

/* ── Region focus panel ── */

.solum-focus-panel {
	animation: solum-panel-slide-in 0.3s ease-out;
}

@keyframes solum-panel-slide-in {
	from {
		opacity: 0;
		transform: translateX(16px);
	}
	to {
		opacity: 1;
		transform: translateX(0);
	}
}

.solum-region-label span {
	display: inline-block;
	font-family: 'Marcellus', serif;
	text-transform: uppercase;
	letter-spacing: 0.15em;
	color: #231f20;
	white-space: nowrap;
	transform: translate(-50%, -50%);
	background-color: rgba(245, 240, 225, 0.88);
	border: 1.5px solid var(--color-stone);
	border-top-width: 2px;
	border-bottom-width: 2px;
	padding: 2px 10px;
	box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12);
}
